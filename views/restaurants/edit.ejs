<%- include('../partials/header') %>


<form method="POST" action="/restaurants/<%= restaurant.id %>?_method=PUT">
    <!-- Restaurant details -->
    <label for="name">Restaurant Name:</label>
    <input type="text" id="name" name="name" value="<%= restaurant.name %>" required>
    <br>

    <label for="address">Restaurant Address:</label>
    <input type="text" id="address" name="address" value="<%= restaurant.address %>" required>
    <br>

    <label for="image">Image URL</label>
    <input type="url" id="image" name="image" value="<%= restaurant.image %>">

    <!-- Menu details -->
    <h3>Edit Menu Items:</h3>
    
<% restaurant.menu.forEach(function (menuItem, index) { %>
  

<% if (menuItem) { %>

    <strong>Category: <%= menuItem.category.charAt(0).toUpperCase()+ menuItem.category.slice(1) %></strong> <br>

    <label for="menu_<%= index %>_name">Dish Name:</label>
    <input type="text" id="menu_<%= index %>_name" name="menu_name" value="<%= menuItem.name %>" required><br>

    <label for="menu_<%= index %>_name">Dish Price:</label>
    <input type="text" id="menu_<%= index %>_name" name="menu_price" value="<%= menuItem.price %>" required><br>

    <form action="/restaurants/<%= restaurant.id %>/menu/<%= menuItem._id %>?_method=DELETE" method="POST">
        <button type="submit">Delete Dish</button>
        
    

<br><br>
    <br>

    <% } %>
 
            <% }); %>
           
        <button type="submit">Update Restaurant</button>
    </form>

<%- include('../partials/footer') %>